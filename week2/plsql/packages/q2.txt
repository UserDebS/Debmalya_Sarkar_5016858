--Question: Write a package EmployeeManagement with procedures to hire new employees, update employee details, and a function to calculate annual salary.

CREATE OR REPLACE PACKAGE EMPLOYEEMANAGEMENT AS

    PROCEDURE HIREEMPLOYEE(
        P_EMPLOYEEID NUMBER,
        P_NAME VARCHAR2,
        P_POSITION VARCHAR2,
        P_SALARY NUMBER,
        P_DEPARTMENT VARCHAR2,
        P_HIREDATE DATE
    );

    PROCEDURE UPDATEEMPLOYEE(
        P_EMPLOYEEID NUMBER,
        P_NAME VARCHAR2,
        P_POSITION VARCHAR2,
        P_SALARY NUMBER,
        P_DEPARTMENT VARCHAR2,
        P_HIREDATE DATE
    );

    FUNCTION CALCULATEANNUALSALARY(
        P_EMPLOYEEID NUMBER
    ) RETURN NUMBER;
END EMPLOYEEMANAGEMENT;
CREATE    OR REPLACE PACKAGE BODY EMPLOYEEMANAGEMENT AS

PROCEDURE HIREEMPLOYEE(
    P_EMPLOYEEID NUMBER,
    P_NAME VARCHAR2,
    P_POSITION VARCHAR2,
    P_SALARY NUMBER,
    P_DEPARTMENT VARCHAR2,
    P_HIREDATE DATE
) IS
BEGIN
    INSERT INTO EMPLOYEES (
        EMPLOYEEID,
        NAME,
        POSITION,
        SALARY,
        DEPARTMENT,
        HIREDATE
    ) VALUES (
        P_EMPLOYEEID,
        P_NAME,
        P_POSITION,
        P_SALARY,
        P_DEPARTMENT,
        P_HIREDATE
    );
EXCEPTION
    WHEN DUP_VAL_ON_INDEX THEN
        RAISE_APPLICATION_ERROR(-20001, 'Employee with this ID already exists.');
    WHEN OTHERS THEN
        RAISE_APPLICATION_ERROR(-20002, 'An error occurred while hiring the employee.');
END HIREEMPLOYEE;

PROCEDURE UPDATEEMPLOYEE(
    P_EMPLOYEEID NUMBER,
    P_NAME VARCHAR2,
    P_POSITION VARCHAR2,
    P_SALARY NUMBER,
    P_DEPARTMENT VARCHAR2,
    P_HIREDATE DATE
) IS
BEGIN
    UPDATE EMPLOYEES
    SET
        NAME = P_NAME,
        POSITION = P_POSITION,
        SALARY = P_SALARY,
        DEPARTMENT = P_DEPARTMENT,
        HIREDATE = P_HIREDATE
    WHERE
        EMPLOYEEID = P_EMPLOYEEID;
    IF SQL%ROWCOUNT = 0 THEN
        RAISE_APPLICATION_ERROR(-20003, 'Employee with this ID does not exist.');
    END IF;
EXCEPTION
    WHEN OTHERS THEN
        RAISE_APPLICATION_ERROR(-20004, 'An error occurred while updating the employee.');
END UPDATEEMPLOYEE;

FUNCTION CALCULATEANNUALSALARY(
    P_EMPLOYEEID NUMBER
) RETURN NUMBER IS
    V_SALARY NUMBER;
BEGIN
    SELECT
        SALARY INTO V_SALARY
    FROM
        EMPLOYEES
    WHERE
        EMPLOYEEID = P_EMPLOYEEID;
    RETURN V_SALARY * 12;
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        RAISE_APPLICATION_ERROR(-20005, 'Employee with this ID does not exist.');
    WHEN OTHERS THEN
        RAISE_APPLICATION_ERROR(-20006, 'An error occurred while calculating the annual salary.');
END CALCULATEANNUALSALARY;
END EMPLOYEEMANAGEMENT;